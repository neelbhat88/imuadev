<div ng-repeat="year in roadmap.years" ng-if="year.id == selected_year">
  <div ng-repeat="sem in year.semesters | filter: {id: selected_semester}">
    <div ng-repeat="mod in setup_modules">
      <div class="widget organizationsetup-roadmap" modulecolor="{{mod}}">
        <div class="widget--header">
          <div class="widget--header--left">
            <h6 class="bold"><div class="color--dot"></div>{{mod}}</h6>
          </div>
          <div class="widget--header--right">
            <div class="widget--options">
              <span class="standard--text">{{year.name}}, {{sem.name}}</span>
              <span class="glyphicon glyphicon-time"></span>
            </div>
          </div>
        </div>
        <div class="widget--content">
          <div class="widget--content--table">
            <div class="widget--content--cell breakalways" ng-repeat="milestone in sem.semester.milestones | filter: {module: mod}">
              <div class="cell--padding">
                {{milestone.title}}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="roadmapContainer" ng-controller="RoadmapController">
  <!-- Year -->
  <div ng-repeat="year in roadmap.years">
    <div class="year">

      <div class="year__header">
        <span class="name">{{year.name}}</span>
      </div>

      <!-- Semester -->
      <div class="year__semester" ng-repeat="sem in year.semesters">

        <!-- Semester Header -->
        <div ng-if="current_user.role >= CONSTANTS.USER_ROLES.mentor">
          <div class="semester__header-title">{{sem.name}}</div>
        </div>
        <div ng-if="current_user.role <= CONSTANTS.USER_ROLES.org_admin">
          <div class="semester__header-title--editable" ng-hide="sem.editing">
            <span class="name" ng-click="addTimeUnit(sem)">{{sem.name}}</span>
          </div>

          <div ng-show="sem.editing" class="semester__header-title--editing">
            <form>
              <input class="form-field" ng-model="sem.name" placeholder="Time Unit Name">

              <button type="submit" class="submit" ng-click="saveAddTimeUnit(sem)"><span>Save</span></button>
              <button class="cancel" ng-click="cancelAddTimeUnit(sem)"><span>Cancel</span></button>
            </form>
          </div>
        </div>
        <!-- Semester Header -->

        <!-- TimeUnit Milestones -->
        <div class="milestone" modulecolor="{{milestone.module}}" ng-repeat="milestone in sem.milestones | orderBy: '-points'">
          <span class ="milestone__title">
            <img ng-src={{milestone.icon}}/>{{milestone.title}}
          </span>
          <span class = "milestone__info">
            <span ng-if="milestone.submodule != 'YesNo'" class="milestone__info__value">{{milestone.description}} {{milestone.value}}</span>
            <span ng-if="milestone.submodule == 'YesNo'" class="milestone__info__value">{{milestone.value}}</span>
            <!--<span class="milestone__info__weight">Points Value: {{milestone.points * milestone.importance}}</span>-->
            <span ng-if="current_user.role <= CONSTANTS.USER_ROLES.org_admin" class="milestone__info__icons">
              <span class="glyphicon glyphicon-pencil" title="Edit Milestone" ng-click="viewMilestone(sem, milestone)"></span>
              <span class="glyphicon glyphicon-trash" title="Delete Milestone" ng-click="deleteMilestone(sem, milestone)"></span>
            </span>
          </span>
        </div>
        <!-- TimeUnit Milestones -->

        <!-- Semester Footer -->
        <div ng-if="current_user.role <= CONSTANTS.USER_ROLES.org_admin" class="semester__footer" ng-click="addMilestone(sem)">
          <div class="semester__footer__title">
            <span class="glyphicon glyphicon-plus-sign"></span>
            <span class="text">Add Another Milestone</span>
          </div>
        </div>
        <!-- Semester Footer -->

      </div>
      <!-- Semester -->

    </div>

    <div ng-if="year.name != 'Year 4'" class="roadmap-spacer-line"></div>
  </div>
  <!-- Year -->

</div>
