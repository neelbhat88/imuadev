<div class="progressContainer">

  <!-- <div class="overall-progress">
    Overall Completedness: {{overall_points.percent}}% ({{overall_points.user}}/{{overall_points.total}})
  </div> -->


  <div class="progress-header" ng-if="selected_module.module_title != null">

    <!-- <div class="circles js-circles" modulecolor="{{selected_module.module_title}}">
      <div class="module-circles js-module-circles">
        <div class="module-circle" ng-click="selectModule('null')">Total Progress Circle</div>
        <div class="module-circle" ng-repeat="mod in modules_progress" ng-class="{inactive: mod.points.total == 0, selectedCircle: mod == selected_module, notSelectedCircle: mod !== selected_module}" modulecolor="{{mod.module_title}}" ng-click="selectModule(mod)">
          <module-progress-circle module="mod"></module-progress-circle>
          <div class="module-circle__modtitle"><h6 class="bold">{{mod.module_title | underscoresToSpaces}}</h6></div>
          <div class="module-circle__modupdated" ng-if="mod.last_updated != null"><span>Last Updated {{mod.last_updated | fromNow}}</h6></div>
          <div class="module-circle__modupdated" ng-if="mod.last_updated == null"><span>Never Updated</span></div>
        </div>
      </div>
    </div> -->

    <div class="widget module-circle-breakdown">
      <div class="widget--content">
        <div class="widget--content--table table--fixed">

          <div class="widget--content--cell break900 ng-clickable" ng-click="selectModule('null')">
            <div class="cell--padding">
              <h6 class="module-circle__title bold">All Progress</h6>
                <progress-circle width="150" student="student_with_modules_progress" identifier="big" ng-if="student_with_modules_progress"></progress-circle>
            </div>
          </div>

          <div class="widget--content--cell break900 ng-clickable" ng-repeat="mod in modules_progress" ng-class="{inactive: mod.points.total == 0, selectedCircle: mod == selected_module, notSelectedCircle: mod !== selected_module}" ng-click="selectModule(mod)">
            <div class="cell--padding">
              <h6 class="module-circle__title bold">{{mod.module_title | underscoresToSpaces}}</h6>
              <module-progress-circle module="mod"></module-progress-circle>
              <div class="module-circle__click-to-view">Click to view {{mod.module_title | underscoresToSpaces}}</div>
              <div class="module-circle__modupdated" ng-if="mod.last_updated != null">Last Updated {{mod.last_updated | fromNow}}</div>
              <div class="module-circle__modupdated" ng-if="mod.last_updated == null">Never Updated</div>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>

  <div class="progressLower">

    <div class="progressLowerDefault" ng-if="selected_module.module_title == null">
      <div class='progressLower--header'>
        <h4 class="progressLower-title">
          <a ng-href="#/profile/{{student.id}}" class="bold">{{student.first_last_initial}}'s</a> Progress
          <select ng-options="sem.name for sem in semesters" ng-model="new_selected_semester" ng-change="selectSemester(new_selected_semester)"></select>
        </h4>
      </div>

      <div class="progressLower--content">

        <div class="widget overall-progress">

          <div class="widget--header">
            <h6 class="bold">Overall Progress</h6>
          </div>

          <div class="widget--content">
            <div class="widget--content--table">
              <div class="widget--content--cell">
                <div class="cell--padding">
                  <div class="points points-earned">
                    <h3 class="bold">560</h3>
                    <h6>Points Earned</h6>
                  </div>

                  <div class="points points-circle progressCircle-big--container">
                    <div class="big-progress-circle">
                      <a ng-href="#/profile/{{student.id}}" alt="View {{student.first_name}}'s Profile">
                        <progress-circle width="325" student="student_with_modules_progress" identifier="big" ng-if="student_with_modules_progress"></progress-circle>
                      </a>
                    </div>
                  </div>

                  <div class="points points-available">
                    <h5>1020</h5>
                    <h6>Points Available</h6>
                  </div>
                </div>
              </div>
            </div>
          </div>

        </div>

        <div class="widget module-circle-breakdown">

          <div class="widget--header">
            <h6 class="bold">Categories</h6>
          </div>

          <div class="widget--content">
            <div class="widget--content--table table--fixed">
              <div class="widget--content--cell break900 ng-clickable" ng-repeat="mod in modules_progress" ng-class="{inactive: mod.points.total == 0, selectedCircle: mod == selected_module, notSelectedCircle: mod !== selected_module}" ng-click="selectModule(mod)">
                <div class="cell--padding">
                  <h6 class="module-circle__title bold">{{mod.module_title | underscoresToSpaces}}</h6>
                  <module-progress-circle module="mod"></module-progress-circle>
                  <div class="module-circle__click-to-view">Click to view {{mod.module_title | underscoresToSpaces}}</div>
                  <div class="module-circle__modupdated" ng-if="mod.last_updated != null">Last Updated {{mod.last_updated | fromNow}}</div>
                  <div class="module-circle__modupdated" ng-if="mod.last_updated == null">Never Updated</div>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>

    </div>

    <div ng-if="selected_module.module_title != null">
      <div class="progressLower--header">
        <h4 class="progressLower-title" ng-if="!current_user.is_student">
          <span class="bold">{{student.first_name}}'s</span> {{selected_module.module_title | underscoresToSpaces}}
          <select ng-options="sem.name for sem in semesters" ng-model="new_selected_semester" ng-change="selectSemester(new_selected_semester)"></select>
        </h4>
        <h4 class="progressLower-title" ng-if="current_user.is_student">
          <span class="bold">Your {{selected_module.module_title | underscoresToSpaces}}</span>
          <select ng-options="sem.name for sem in semesters" ng-model="new_selected_semester" ng-change="selectSemester(new_selected_semester)"></select>
        </h4>
      </div>

      <div class="progressLower--no-content" ng-show="selected_module.points.total == 0">
        <h4>Looks like there aren't any {{selected_module.module_title | underscoresToSpaces}} milestones for this semester.</h4>
      </div>

      <div class="progressLower--content">
        <div ng-include="getModuleTemplate(selected_module.module_title)"></div>
      </div>
    </div>

  </div>

</div>
