<div ng-controller="ExtracurricularProgressController" class="extracurricularProgressContainer">

  <div class="module module--ecActivities">

    <div class="module--header">Extracurricular Activities</div>

    <div class="module--content">

      <div class="module--no-data" ng-show="user_extracurricular_activities.length == 0">
        <h6>{{student.first_name}}, looks like you haven't entered any data.</h6>
        <h6>Let's get that taken care of. Add your Extracurricular Activities for this semester below.</h6>
      </div><!-- /No activities warning -->

      <div class="module--data">

        <table>

          <thead>
            <th colspan="4">Activity</th>
          </thead>

          <tbody>
            <tr ng-repeat="(activityIndex, user_extracurricular_activity) in user_extracurricular_activities" ng-class="{'last':$last}">

              <td ng-hide="user_extracurricular_activity.editing">{{user_extracurricular_activity.name}}</td>
              <td ng-hide="user_extracurricular_activity.editing">{{user_extracurricular_activity.details.leadership}}</td>
              <td ng-hide="user_extracurricular_activity.editing">{{user_extracurricular_activity.details.description}}</td>
              <td ng-hide="user_extracurricular_activity.editing" class="glyphicons">
                <div class="glyphicon-container">
                  <span class="glyphicon glyphicon-pencil" title="Edit Extracurricular Activity" ng-click="editActivity(activityIndex)"></span>
                  <span class="glyphicon glyphicon-trash" title="Delete Activity" ng-click="deleteActivity(activityIndex)"></span>
                </div>
              </td>

              <td class="editing" ng-show="user_extracurricular_activity.editing" colspan="4">
                <span class="input-group">
                  <label>What Activity did you participate in?</label>
                  <input class="form-control" ng-model="user_extracurricular_activity.new_name" placeholder="Extracurricular Activity Name" name="extracurricularActivityName">
                </span>
                <span class="input-group">
                  <label>Leadership Role (Optional)</label>
                  <input class="form-control" ng-model="user_extracurricular_activity.details.new_leadership" placeholder="Leadership (optional)" name="extracurricularEventLeadership">
                </span>
                <span class="input-group">
                  <label>Description (Optional)</label>
                  <textarea class="form-control" ng-model="user_extracurricular_activity.details.new_description" placeholder="Description (optional)" name="extracurricularEventDescription"></textarea>
                </span>

                <button class="submit" title="Confirm" ng-click="saveActivity(activityIndex)">Confirm</button>
                <button class="cancel" title="Cancel" ng-click="cancelActivityEdit(activityIndex)">Cancel</button>

              </td>

            </tr>
          </tbody>
        </table>

        <button ng-if="editable(current_user, selected_semester)" class="btn btn-default" ng-click="addActivity()" ng-hide="user_extracurricular_activities.editing">Add Extracurricular Activity</button>

      </div><!-- /module-data -->

    </div><!-- /module--content -->

  </div><!-- /module--ecActivities -->

  <div class="module module--activity-totals">

    <div class="module--header">Activities</div>

    <div class="module--content">

    	<div class="user-class-greeting" wait-to-load="loaded_semester_activities">
        Hey {{student.first_name}}, you are participating in
        <h2>{{semester_activities}}</span></h2>
        <h4>activities</h4>
        this semester.
      </div>

    </div>

  </div><!-- /module--gpa -->

  <div class="module module--milestones">

  	<div class="module--header">{{selected_module.module_title | underscoresToSpaces}} Milestones</div>

    <div class="module--content">

      <div class="module-data-content" ng-show="selected_module.points.total == 0">
        <p>Looks like there aren't any {{selected_module.module_title | underscoresToSpaces}} milestones for this semester.</p>
      </div>

      <div class="module-milestones" ng-if="milestones.length > 0">

        <div class="milestones-unsatisfied module--submodule clear">

        	<div class="module--subhead">Next Milestones</div>

          <div class="milestone-item" ng-repeat="milestone in milestones" ng-if="!milestone.earned">
            <div class="milestone-item-unstatisfied">

              <div class="milestone--point-circle">
                <div class="point-circle--inside">
                  <h5 class="bold">{{milestone.points}}</h5>
                  <p>Points</p>
                </div>
              </div>

              <input type="checkbox" ng-if="milestone.submodule === 'YesNo'" ng-model="milestone.earned" ng-change="toggleYesNoMilestone(milestone)"
                ng-disabled="!editable(current_user, selected_semester)">
              <h6>{{milestone | printMilestone}}</h6>
            </div>
          </div>

        </div>

        <div class="milestones-unsatisfied module--submodule clear">

        	<div class="module--subhead">Completed Milestones</div>

          <div class="milestone-item" ng-repeat="milestone in milestones" ng-if="milestone.earned">
            <div class="milestone-item-statisfied">

              <div class="milestone--point-circle">
                <div class="point-circle--inside">
                  <h4 class="bold">âœ“</h4>
                </div>
              </div>

              <input type="checkbox" ng-if="milestone.submodule === 'YesNo'" ng-model="milestone.earned" ng-change="toggleYesNoMilestone(milestone)"
                ng-disabled="!editable(current_user, selected_semester)">
              <h6>{{milestone | printMilestone}}</h6>
            </div>
          </div>

        </div>

      </div>

    </div><!-- /module-inner -->

  </div><!-- /module--milestones -->

</div>
