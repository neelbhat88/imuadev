<div class="mentorContainer">

  <div class="mentor-mid">
    <div class="students-attention" ng-hide="attention_students.length == 0">
      <div ng-if="attention_students.length == 1" class="list-header">
        <h5>Student assigned to {{mentor.first_name}} who <span class="bold">needs attention</span></h5>
      </div>
      <div ng-if="attention_students.length != 1" class="list-header">
        <h5>Students assigned to {{mentor.first_name}} <span class="bold">who need attention</span></h5>
      </div>
      <div class="list-container">
        <div class="progress-circles--needs-attention" ng-class="{'needsAttention': {{student.id | existsInArray: attention_students}}}" ng-repeat="student in attention_students">
          <div class="attention-circle">
          <progress-circle student="student" identifier="attention"></progress-circle>
          </div>
          <div class="attention-text">
            <h5 class="bold student-name">{{student.first_last_initial}}</h5>
            <div class="attention-description">
              <!-- This should be replaced with a directive or something that allows us to insert custom messages and button links. -->
              <h6>isn't meeting their expectations.</h6>
              <a href="#/expectations/{{student.id}}"><button class="btn btn-default">View Problem</button></a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="user-list">
    <h4>{{mentor.first_name}}'s Students</h4>

    <div class="avatar-block progress-circles avatar-block--list" ng-repeat="student in assigned_students | orderBy: 'id'">
      <!-- <img ng-src="{{student.square_avatar_url}}" alt="Avatar" class="avatar-block__img avatar-block__img--thumbnail" /> -->
      <a ng-href="#/progress/{{student.id}}" title="View progress">
        <progress-circle student="student"></progress-circle>
      </a>
      <a ng-href="#/profile/{{student.id}}" title="View student info">
        <div class="avatar-block__name">
          {{student.first_name}} {{student.last_name}}
        </div>
      </a>
      <div class="unassign">
        <span class="glyphicon glyphicon-remove-circle" title="Unassign" ng-click="unassign(student)"></span>
      </div>
    </div>

    <div class="user-list__add" ng-click="assigning=true" ng-hide="assigning || assigned_students.length == all_students.length">
      <div class="glyphicon glyphicon-plus-sign ptxl"></div>
      <div>Assign Student</div>
    </div>

    <div class="user-list__add" ng-click="assigning=false" ng-show="assigning">
      <div class="glyphicon glyphicon-ok-sign ptxl"></div>
      <div>Done Assigning</div>
    </div>
  </div>

  <div class="user-list" ng-show="assigning">

    <h4 ng-hide="all_students.length == assigned_students.length">Click the students below to assign them to {{mentor.first_name}}</h4>
    <h4 ng-show="all_students.length == assigned_students.length">No students left to assign!</h4>

    <div class="circle-pictures" ng-class="{ assigned: isAssigned(student)}" ng-click="assign(student)" ng-repeat="student in all_students">
        <div class="circle-picture">
          <img ng-src="{{student.square_avatar_url}}" alt="Avatar" class="avatar-block__img avatar-block__img--thumbnail" />
        </div>
        <h6 class="bold">{{student.first_last_initial}}</h6>
    </div>
  </div>

</div>
