<div class="studentsContainer" wait-to-load="{{loaded_users}}">

	<div class="students-header">
		<ul class="student-stats clear">
			<li>
				<h4 class="bold">Students</h4>
			</li>
			<li>
				<div class="stat-wrapper clear">
					<div class="count"><h4><span class="bold">{{organization.students.length}}</span></h4></div>
					<div class="descript">Total <br>Students</div>
				</div>
			</li>
			<li>
				<div class="stat-wrapper clear">
					<div class="count"><h4><span class="bold">{{active_students}}</span></h4></div>
					<div ng-if="active_students !== 1" class="descript">Students Active <br>This Week</div>
					<div ng-if="active_students == 1" class="descript">Student Active <br>This Week</div>
				</div>
			</li>
			<li>
				<div class="stat-wrapper ng-clickable temp-clickable clear" ng-click="attentionList = !attentionList">
					<div class="count"><h4><span class="bold">{{_.where(organization.students, { needs_attention: true }).length}}</span></h4></div>
					<div ng-if="_.where(organization.students, { needs_attention: true }).length !== 1" class="descript">Students Need <br>Mentor Attention</div>
					<div ng-if="_.where(organization.students, { needs_attention: true }).length == 1" class="descript">Student Needs <br>Mentor Attention</div>
				</div>
			</li>
		</ul>
	</div>

	<div class="students-mid" ng-if="attention_students.length != 0" ng-show="attentionList">
		<div class="students-attention">
			<div ng-if="attention_students.length == 1" class="list-header">
				<h5><span class="bold">One student needs attention</span> from their mentor</h5>
			</div>
			<div ng-if="attention_students.length != 1" class="list-header">
				<h5><span class="bold">{{attention_students.length}} students need attention</span> from their mentors</h5>
			</div>
			<div class="list-container progress-circle--list">
				<progress-circle-needs-attention ng-repeat="student in attention_students"></progress-circle-needs-attention>
			</div>
		</div>
	</div>

	<div ng-if="selectedStudents.length == 1" class="single-student-selectbar">
		<progress-circle notimeout="true" drawduration="0" parentclass="circle-size" identifier="selected" student="singleStudent"></progress-circle>
		<span>{{singleStudent.full_name}}</span>
		<span>{{singleStudent.user_points}} out of {{singleStudent.total_points}} Available Points</span>
		<a href="app#/progress/{{singleStudent.id}}"><span class="btn btn-default btn-sm">View {{singleStudent.first_name}}'s Progress</span></a>
		<a href="app#/expectations/{{singleStudent.id}}"><span class="btn btn-default btn-sm">View {{singleStudent.first_name}}'s Expectations</span></a>
		<span ng-click="clearSelected(selectedStudents)" class="btn btn-default btn-sm">Clear Selection</span>

	</div>

	<div ng-show="selectedStudents.length > 1" class="students-selectbar">

	</div>

	<div class="students-mid">
		<h6 class="search-label">Search for Students: </h6>
		<input placeholder="Enter Student's Name" class="student-search form-inline form-field" type="text" ng-model="search.text">
	</div>

	<div class="students-lower">
		<div ng-repeat="group in class_of_years">
			<h5 ng-show="_.findWhere(students, {class_of: group})" class="list-header">Class of <span class="bold">{{group}}</span></h5>
			<div class="list-container progress-circle--list">
				<progress-circle-select ng-repeat="student in students | orderBy: 'last_name' | filter: {class_of: group}"></progress-circle-select>
			</div>
    </div>

		<div class="add-button" ng-click="addStudent()">
			<div class="glyphicon glyphicon-plus-sign"></div>
			<h6>Add a Student</h6>
		</div>
  </div>

</div>
